<div class="form-container">
    <mat-card class="form-card">
        <mat-card-header>
            <mat-card-title>{{ isEditMode ? 'Edit Account' : 'Add New Account' }}</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <form [formGroup]="accountForm" (ngSubmit)="onSubmit()" class="account-form">
                <mat-form-field appearance="outline">
                    <mat-label>Account Name</mat-label>
                    <input matInput formControlName="accountName" placeholder="e.g., Primary Checking">
                    <mat-error *ngIf="accountForm.get('accountName')?.hasError('required')">
                        Account name is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Bank Name</mat-label>
                    <input matInput formControlName="bankName" placeholder="e.g., Chase">
                    <mat-error *ngIf="accountForm.get('bankName')?.hasError('required')">
                        Bank name is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Account Type</mat-label>
                    <mat-select formControlName="accountType">
                        <mat-option *ngFor="let type of accountTypes" [value]="type">
                            {{ AccountType[type] }}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="accountForm.get('accountType')?.hasError('required')">
                        Account type is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Initial Balance</mat-label>
                    <input matInput type="number" formControlName="initialBalance" placeholder="0.00">
                    <span matPrefix>$&nbsp;</span>
                    <mat-error *ngIf="accountForm.get('initialBalance')?.hasError('required')">
                        Initial balance is required
                    </mat-error>
                    <mat-error *ngIf="accountForm.get('initialBalance')?.hasError('min')">
                        Balance cannot be negative
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Account Number</mat-label>
                    <input matInput formControlName="accountNumber" placeholder="Enter account number">
                    <mat-error *ngIf="accountForm.get('accountNumber')?.hasError('required')">
                        Account number is required
                    </mat-error>
                </mat-form-field>

                <div class="form-actions">
                    <button mat-button type="button" routerLink="/bank-accounts">Cancel</button>
                    <button mat-raised-button color="primary" type="submit" [disabled]="accountForm.invalid">
                        {{ isEditMode ? 'Update' : 'Create' }} Account
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>